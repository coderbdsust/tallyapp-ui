  <header class="bg-gray shadow-sm border border-gray-200 mt-4 rounded-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ">
            <!-- Top Header Bar -->
            <div class="flex items-center justify-between py-4">
                <!-- Company Logo & Name -->
                <div class="flex items-center space-x-4">
                    <img  [src]="transactionReport?.orgLogo || 'https://placehold.co/600x400'" alt="Org Logo" class="h-auto w-24 object-contain">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">{{transactionReport?.organizationName}}</h1>
                        <p class="text-sm text-gray-500">Transaction Summary</p>
                    </div>
                </div>
                <!-- Report Time & Actions -->
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="text-sm text-gray-500">Last Updated</p>
                        <p class="text-sm font-medium text-gray-900" id="reportTime">{{transactionReport?.reportTime| date: 'dd-MM-yyyy HH:mm'}}</p>
                    </div>
                </div>
            </div>
        </div>
    </header>


<div class="flex min-w-full flex-col rounded-xl border border-muted/20 bg-background p-2 mt-4">
  <!-- Loading State -->
  <div *ngIf="loading" class="flex justify-center items-center py-8">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
  </div>

  <!-- Table Section -->
  <div *ngIf="!loading" class="scrollbar-thumb-rounded scrollbar-track-rounded grow overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted">
    <table class="table w-full table-auto border-collapse border-0 text-left align-middle leading-5 text-muted-foreground">
      <thead class="border border-muted/20 text-xs text-muted-foreground bg-black-100 text-white">
        <tr>
          <th class="min-w-[150px] px-4 py-3">Transaction Type</th>
          <th class="min-w-[120px] px-4 py-3 text-right">Amount</th>
          <th class="min-w-[140px] px-4 py-3">Date & Time</th>
          <th class="min-w-[120px] px-4 py-3">Primary Account</th>
          <th class="min-w-[120px] px-4 py-3">Contra Account</th>
          <th class="min-w-[140px] px-4 py-3">Party</th>
          <th class="min-w-[200px] px-4 py-3">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let txn of transactionReport?.recentTransactions; let i = index" class="hover:bg-card/50 border-b border-gray-100">
          <!-- Transaction Type -->
          <td class="px-4 py-3">
            <span 
              class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium" 
              [ngClass]="[
                getTransactionTypeColor(txn.transactionType).bg,
                getTransactionTypeColor(txn.transactionType).text
              ]">
              {{ txn.transactionType | word }}
            </span>
          </td>

          <!-- Amount -->
          <td class="px-4 py-3 text-right">
            <span [ngClass]="getAmountColor(txn.transactionType, txn.amount)">
              {{ formatCurrency(txn.amount) }}
            </span>
          </td>

          <!-- Date -->
          <td class="px-4 py-3">
            <div class="flex flex-col">
              <span class="text-sm font-medium">{{ txn.transactionDate | date: 'dd-MM-yyyy' }}</span>
              <span class="text-xs text-muted-foreground">{{ txn.transactionDate | date: 'HH:mm' }}</span>
            </div>
          </td>

          <!-- Account -->
          <td class="px-4 py-3">
            <span class="text-sm">{{ txn.debitAccount.accountName }}</span>
             <span class="text-xs text-muted-foreground"> ({{ txn.debitAccount.accountType || 'N/A' }})</span>
          </td>

          <td class="px-4 py-3">
            <span class="text-sm">{{ txn.creditAccount.accountName }}</span>
            <span class="text-xs text-muted-foreground"> ({{ txn.creditAccount.accountType || 'N/A' }})</span>
          </td>

          <!-- Party (From/To) -->
          <td class="px-4 py-3">
            <div class="flex flex-col" *ngIf="getTransactionParty(txn).name !== 'N/A'; else noParty">
              <span class="text-sm font-medium">{{ getTransactionParty(txn).name }}</span>
              <span class="text-xs text-muted-foreground">({{ getTransactionParty(txn).type }})</span>
            </div>
            <ng-template #noParty>
              <span class="text-sm text-muted-foreground">N/A</span>
            </ng-template>
          </td>

          <!-- Description -->
          <td class="px-4 py-3">
            <span class="text-sm" [title]="txn.description">
              {{ txn.description || 'No description' }}
            </span>
          </td>
        </tr>

        <!-- Empty State -->
        <tr *ngIf="!transactionReport?.recentTransactions?.length">
          <td class="py-8 text-center text-sm" colspan="6">
            <div class="flex flex-col items-center gap-2">
              <svg-icon src="./assets/icons/heroicons/outline/banknotes.svg" [svgClass]="'h-12 w-12 text-muted-foreground/50'">
              </svg-icon>
              <span>No transactions found</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>